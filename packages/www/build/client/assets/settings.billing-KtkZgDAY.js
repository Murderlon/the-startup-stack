import{r as m,j as e}from"./jsx-runtime-BWtM72Fx.js";import{I as b}from"./misc-CKFZHWnt.js";import{c as D,g as _,P as T,a as Y,f as B,e as L}from"./index-CHmExSK5.js";import{u as z,B as S}from"./button-DXLxMO3S.js";import{c as R}from"./misc-DExpcjDH.js";import{u as $,F as w}from"./components-Bhby6F3L.js";const i={FREE:"free",PRO:"pro"},a={MONTH:"month",YEAR:"year"},d={DEFAULT:"usd",USD:"usd",EUR:"eur"},P={[i.FREE]:{id:i.FREE,name:"Free",description:"Start with the basics, upgrade anytime.",prices:{[a.MONTH]:{[d.USD]:0,[d.EUR]:0},[a.YEAR]:{[d.USD]:0,[d.EUR]:0}}},[i.PRO]:{id:i.PRO,name:"Pro",description:"Access to all features and unlimited projects.",prices:{[a.MONTH]:{[d.USD]:1990,[d.EUR]:1990},[a.YEAR]:{[d.USD]:19990,[d.EUR]:19990}}}};var j="Switch",[q,se]=D(j),[K,G]=q(j),k=m.forwardRef((t,o)=>{const{__scopeSwitch:r,name:c,checked:n,defaultChecked:p,required:s,disabled:l,value:u="on",onCheckedChange:N,...E}=t,[x,y]=m.useState(null),M=z(o,f=>y(f)),g=m.useRef(!1),v=x?!!x.closest("form"):!0,[h=!1,F]=_({prop:n,defaultProp:p,onChange:N});return e.jsxs(K,{scope:r,checked:h,disabled:l,children:[e.jsx(T.button,{type:"button",role:"switch","aria-checked":h,"aria-required":s,"data-state":O(h),"data-disabled":l?"":void 0,disabled:l,value:u,...E,ref:M,onClick:Y(t.onClick,f=>{F(H=>!H),v&&(g.current=f.isPropagationStopped(),g.current||f.stopPropagation())})}),v&&e.jsx(V,{control:x,bubbles:!g.current,name:c,value:u,checked:h,required:s,disabled:l,style:{transform:"translateX(-100%)"}})]})});k.displayName=j;var C="SwitchThumb",I=m.forwardRef((t,o)=>{const{__scopeSwitch:r,...c}=t,n=G(C,r);return e.jsx(T.span,{"data-state":O(n.checked),"data-disabled":n.disabled?"":void 0,...c,ref:o})});I.displayName=C;var V=t=>{const{control:o,checked:r,bubbles:c=!0,...n}=t,p=m.useRef(null),s=B(r),l=L(o);return m.useEffect(()=>{const u=p.current,N=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(N,"checked").set;if(s!==r&&x){const y=new Event("click",{bubbles:c});x.call(u,r),u.dispatchEvent(y)}},[s,r,c]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:p,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function O(t){return t?"checked":"unchecked"}var U=k,W=I;const A=m.forwardRef(({className:t,...o},r)=>e.jsx(U,{className:R("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...o,ref:r,children:e.jsx(W,{className:R("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));A.displayName=U.displayName;const re="/dashboard/settings/billing",ae=()=>[{title:"Remix SaaS - Billing"}];function ne(){const{subscription:t,currency:o}=$(),[r,c]=m.useState(t?.planId??i.FREE),[n,p]=m.useState(a.MONTH);return e.jsxs("div",{className:"flex h-full w-full flex-col gap-6",children:[e.jsxs("div",{className:"flex w-full flex-col gap-2 p-6 py-2",children:[e.jsx("h2",{className:"text-xl font-medium text-primary",children:"This is a demo app."}),e.jsxs("p",{className:"text-sm font-normal text-primary/60",children:["Remix SaaS is a demo app that uses Stripe test environment. You can find a list of test card numbers on the"," ",e.jsx("a",{href:"https://stripe.com/docs/testing#cards",target:"_blank",rel:"noreferrer",className:"font-medium text-primary/80 underline",children:"Stripe docs"}),"."]})]}),e.jsxs("div",{className:"flex w-full flex-col items-start rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"flex flex-col gap-2 p-6",children:[e.jsx("h2",{className:"text-xl font-medium text-primary",children:"Plan"}),e.jsxs("p",{className:"flex items-start gap-1 text-sm font-normal text-primary/60",children:["You are currently on the"," ",e.jsx("span",{className:"flex h-[18px] items-center rounded-md bg-primary/10 px-1.5 text-sm font-medium text-primary/80",children:t?t.planId?.charAt(0).toUpperCase()+t.planId.slice(1):"Free"}),"plan."]})]}),t?.planId===i.FREE&&e.jsx("div",{className:"flex w-full flex-col items-center justify-evenly gap-2 border-border p-6 pt-0",children:Object.values(P).map(s=>e.jsxs("button",{type:"button",tabIndex:0,className:`flex w-full select-none items-center rounded-md border border-border hover:border-primary/60 ${r===s.id&&"border-primary/60"}`,onClick:()=>c(s.id),onKeyDown:l=>{l.key==="Enter"&&c(s.id)},children:[e.jsxs("div",{className:"flex w-full flex-col items-start p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-primary",children:s.name}),s.id!==i.FREE&&e.jsxs("span",{className:"flex items-center rounded-md bg-primary/10 px-1.5 text-sm font-medium text-primary/80",children:[o===d.USD?"$":"â‚¬"," ",n===a.MONTH?s.prices[a.MONTH][o]/100:s.prices[a.YEAR][o]/100," ","/ ",n===a.MONTH?"month":"year"]})]}),e.jsx("p",{className:"text-start text-sm font-normal text-primary/60",children:s.description})]}),s.id!==i.FREE&&e.jsxs("div",{className:"flex items-center gap-2 px-4",children:[e.jsx("label",{htmlFor:"interval-switch",className:"text-start text-sm text-primary/60",children:n===a.MONTH?"Monthly":"Yearly"}),e.jsx(A,{id:"interval-switch",checked:n===a.YEAR,onCheckedChange:()=>p(l=>l===a.MONTH?a.YEAR:a.MONTH)})]})]},s.id))}),t&&t.planId!==i.FREE&&e.jsx("div",{className:"flex w-full flex-col items-center justify-evenly gap-2 border-border p-6 pt-0",children:e.jsx("div",{className:"flex w-full items-center overflow-hidden rounded-md border border-primary/60",children:e.jsxs("div",{className:"flex w-full flex-col items-start p-4",children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-base font-medium text-primary",children:t.planId.charAt(0).toUpperCase()+t.planId.slice(1)}),e.jsxs("p",{className:"flex items-start gap-1 text-sm font-normal text-primary/60",children:[t.cancelAtPeriodEnd===!0?e.jsx("span",{className:"flex h-[18px] items-center text-sm font-medium text-red-500",children:"Expires"}):e.jsx("span",{className:"flex h-[18px] items-center text-sm font-medium text-green-500",children:"Renews"}),"on:"," ",new Date(t.currentPeriodEnd).toLocaleDateString("en-US"),"."]})]}),e.jsx("p",{className:"text-start text-sm font-normal text-primary/60",children:P[i.PRO].description})]})})}),e.jsxs("div",{className:"flex min-h-14 w-full items-center justify-between rounded-lg rounded-t-none border-t border-border bg-secondary px-6 py-3 dark:bg-card",children:[e.jsx("p",{className:"text-sm font-normal text-primary/60",children:"You will not be charged for testing the subscription upgrade."}),t?.planId===i.FREE&&e.jsxs(w,{method:"POST",children:[e.jsx("input",{type:"hidden",name:"planId",value:r}),e.jsx("input",{type:"hidden",name:"planInterval",value:n}),e.jsx(S,{type:"submit",size:"sm",name:b.INTENT,value:b.SUBSCRIPTION_CREATE_CHECKOUT,disabled:r===i.FREE,children:"Upgrade to PRO"})]})]})]}),e.jsxs("div",{className:"flex w-full flex-col items-start rounded-lg border border-border bg-card",children:[e.jsxs("div",{className:"flex flex-col gap-2 p-6",children:[e.jsx("h2",{className:"text-xl font-medium text-primary",children:"Manage Subscription"}),e.jsx("p",{className:"flex items-start gap-1 text-sm font-normal text-primary/60",children:"Update your payment method, billing address, and more."})]}),e.jsxs("div",{className:"flex min-h-14 w-full items-center justify-between rounded-lg rounded-t-none border-t border-border bg-secondary px-6 py-3 dark:bg-card",children:[e.jsx("p",{className:"text-sm font-normal text-primary/60",children:"You will be redirected to the Stripe Customer Portal."}),e.jsx(w,{method:"POST",children:e.jsx(S,{type:"submit",size:"sm",name:b.INTENT,value:b.SUBSCRIPTION_CREATE_CUSTOMER_PORTAL,children:"Manage"})})]})]})]})}export{ne as D,i as P,re as R,ae as m};
